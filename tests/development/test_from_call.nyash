// ğŸ”¥ FromCallå®Ÿè£…ãƒ†ã‚¹ãƒˆ - Override + Fromçµ±ä¸€æ§‹æ–‡ã«ã‚ˆã‚‹ãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³é©å‘½

// è¦ªã‚¯ãƒ©ã‚¹å®šç¾©
box Animal {
    init { name, sound }
    
    constructor() {
        me.name = "Unknown Animal"
        me.sound = "Silent"
    }
    
    constructor(animalName) {
        me.name = animalName
        me.sound = "Unknown Sound"
    }
    
    makeSound() {
        local console
        console = new ConsoleBox()
        console.log(me.name + " makes " + me.sound)
        return me.sound
    }
    
    getName() {
        return me.name
    }
}

// å­ã‚¯ãƒ©ã‚¹å®šç¾©ï¼ˆãƒ‡ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³é–¢ä¿‚ï¼‰
box Dog : Animal {
    init { breed }
    
    constructor() {
        // è¦ªã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å‘¼ã³å‡ºã—
        from Animal.constructor()
        me.sound = "Woof!"
        me.breed = "Mixed"
    }
    
    constructor(dogName, dogBreed) {
        // å¼•æ•°ä»˜ãè¦ªã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’å‘¼ã³å‡ºã—
        from Animal.constructor(dogName)
        me.sound = "Woof!"
        me.breed = dogBreed
    }
    
    // override: è¦ªãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰
    makeSound() {
        // è¦ªãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—
        local parentSound
        parentSound = from Animal.makeSound()
        
        // è¿½åŠ ã®å‡¦ç†
        local console
        console = new ConsoleBox()
        console.log("This is a " + me.breed + " breed!")
        return parentSound
    }
    
    getBreed() {
        return me.breed
    }
    
    // è¦ªã®getNameã‚’å‘¼ã³å‡ºã™ãƒ†ã‚¹ãƒˆ
    getFullInfo() {
        local parentName
        parentName = from Animal.getName()
        return parentName + " (" + me.breed + ")"
    }
}

// é™çš„ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹
static box Main {
    init { console }
    
    main() {
        me.console = new ConsoleBox()
        me.console.log("ğŸ”¥ FromCall Implementation Test Starting...")
        
        // ãƒ†ã‚¹ãƒˆ1: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
        local dog1
        dog1 = new Dog()
        me.console.log("Test 1 - Default Constructor:")
        dog1.makeSound()
        me.console.log("Name: " + dog1.getName())
        me.console.log("Breed: " + dog1.getBreed())
        me.console.log("")
        
        // ãƒ†ã‚¹ãƒˆ2: å¼•æ•°ä»˜ãã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
        local dog2
        dog2 = new Dog("Buddy", "Golden Retriever")
        me.console.log("Test 2 - Parameterized Constructor:")
        dog2.makeSound()
        me.console.log("Full Info: " + dog2.getFullInfo())
        me.console.log("")
        
        // ãƒ†ã‚¹ãƒˆ3: è¦ªãƒ¡ã‚½ãƒƒãƒ‰ç›´æ¥å‘¼ã³å‡ºã—
        me.console.log("Test 3 - Direct parent method call:")
        local directAnimal
        directAnimal = new Animal("Cat")
        directAnimal.makeSound()
        
        me.console.log("ğŸ‰ FromCall Implementation Test Completed!")
        return "FromCall Revolution Success!"
    }
}