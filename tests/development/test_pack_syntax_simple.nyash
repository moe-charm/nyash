// ğŸ“¦ packæ§‹æ–‡ãƒ†ã‚¹ãƒˆ - ãƒ“ãƒ«ãƒˆã‚¤ãƒ³Boxç¶™æ‰¿å°‚ç”¨æ©Ÿèƒ½ç¢ºèª

// ãƒ“ãƒ«ãƒˆã‚¤ãƒ³Boxã‚’ç¶™æ‰¿ã—ã¦packæ§‹æ–‡ã‚’ãƒ†ã‚¹ãƒˆ
box MyMathBox from MathBox {
    init { history }  // è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
    
    pack() {
        from MathBox.pack()  // è¦ªã®packã‚’å‘¼ã³å‡ºã—
        me.history = new ArrayBox()  // å±¥æ­´è¿½åŠ 
        print("âœ… MyMathBox packå®Œäº†")
    }
    
    override sin(x) {
        local result = from MathBox.sin(x)
        me.history.push("sin(" + x + ") = " + result)
        print("ğŸ“ å±¥æ­´è¿½åŠ : sin(" + x + ") = " + result)
        return result
    }
    
    getHistory() {
        return me.history
    }
}

static box Main {
    init { console }
    
    main() {
        me.console = new ConsoleBox()
        me.console.log("ğŸ§ª packæ§‹æ–‡ãƒ†ã‚¹ãƒˆé–‹å§‹")
        
        // packã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
        local mathCalc = new MyMathBox()
        me.console.log("âœ… MyMathBoxä½œæˆæˆåŠŸ")
        
        // sinè¨ˆç®—ãƒ†ã‚¹ãƒˆ
        local result = mathCalc.sin(1.5708)  // Ï€/2 â‰ˆ 90åº¦
        me.console.log("ğŸ”¢ sin(Ï€/2) = " + result)
        
        // å±¥æ­´ç¢ºèª
        local history = mathCalc.getHistory()
        me.console.log("ğŸ“š å±¥æ­´ã‚µã‚¤ã‚º: " + history.length())
        
        return "packæ§‹æ–‡ãƒ†ã‚¹ãƒˆå®Œäº†"
    }
}