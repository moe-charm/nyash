// âš¡ éåŒæœŸå‡¦ç†ãƒ‡ãƒ¢ - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ

static box Main {
    init { console }
    
    main() {
        me.console = new ConsoleBox()
        me.console.log("âš¡ éåŒæœŸå‡¦ç†ãƒ‡ãƒ¢é–‹å§‹ï¼")
        me.console.log("==================")
        
        me.console.log("ğŸš€ é‡ã„è¨ˆç®—ã‚¿ã‚¹ã‚¯ã‚’ä¸¦è¡Œã§é–‹å§‹...")
        
        // ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°å®£è¨€
        local future1, future2, result1, result2
        
        // éåŒæœŸã‚¿ã‚¹ã‚¯é–‹å§‹
        nowait future1 = heavyComputation(5000)
        nowait future2 = heavyComputation(3000)
        
        me.console.log("â³ éåŒæœŸå®Ÿè¡Œä¸­... ä»–ã®å‡¦ç†ãŒã§ãã¾ã™")
        me.console.log("âœ¨ ã“ã‚ŒãŒéåŒæœŸã®å¨åŠ›ï¼")
        me.console.log("ğŸ”„ ä¸¡æ–¹ã®è¨ˆç®—ãŒä¸¦è¡Œå®Ÿè¡Œã•ã‚Œã¦ã„ã¾ã™")
        
        // çµæœã‚’å¾…æ©Ÿã—ã¦å–å¾—
        me.console.log("ğŸ“¥ çµæœ1ã‚’å¾…æ©Ÿä¸­...")
        result1 = await future1
        
        me.console.log("ğŸ“¥ çµæœ2ã‚’å¾…æ©Ÿä¸­...")
        result2 = await future2
        
        me.console.log("==================")
        me.console.log("ğŸ‰ çµæœ1: " + result1)
        me.console.log("ğŸ‰ çµæœ2: " + result2)
        me.console.log("âš¡ éåŒæœŸå‡¦ç†å®Œäº†ï¼")
        
        return "éåŒæœŸãƒ‡ãƒ¢æˆåŠŸï¼"
    }
}

// é‡ã„è¨ˆç®—å‡¦ç†ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹é–¢æ•°
function heavyComputation(iterations) {
    local result, i
    result = 0
    i = 0
    
    loop(i < iterations) {
        result = result + i * i
        i = i + 1
    }
    
    return result
}