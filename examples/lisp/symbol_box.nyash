// ğŸ“ SymbolBox - LISP symbolï¼ˆå¤‰æ•°åãƒ»é–¢æ•°åï¼‰å®Ÿè£…

box SymbolBox {
    name
    
    init { name }
    
    // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿
    SymbolBox(symbolName) {
        me.name = symbolName
    }
    
    getName() { return me.name }
    setName(newName) { me.name = newName }
    
    toString() { return me.name }
    
    // ã‚·ãƒ³ãƒœãƒ«åŒå£«ã®æ¯”è¼ƒ
    equals(other) {
        if other == NIL { return false }
        // SymbolBoxã‹ãƒã‚§ãƒƒã‚¯ï¼ˆç°¡æ˜“ç‰ˆï¼‰
        if me.isSymbolBox(other) {
            return me.name == other.name
        }
        return false
    }
    
    // SymbolBoxã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆç°¡æ˜“ç‰ˆï¼‰
    isSymbolBox(obj) {
        if obj == NIL { return false }
        if obj == 0 { return false }
        if obj == 1 { return false }
        if obj == 2 { return false }
        if obj == 3 { return false }
        if obj == 4 { return false }
        if obj == 5 { return false }
        if obj == 6 { return false }
        if obj == 7 { return false }
        if obj == 8 { return false }
        if obj == 9 { return false }
        // æ–‡å­—åˆ—ã¯é™¤å¤–
        if obj == "a" { return false }
        if obj == "b" { return false }
        if obj == "c" { return false }
        if obj == "" { return false }
        if obj == "nil" { return false }
        if obj == "+" { return false }
        if obj == "-" { return false }
        if obj == "*" { return false }
        if obj == "/" { return false }
        // ãã‚Œä»¥å¤–ã¯SymbolBoxã¨ä»®å®š
        return true
    }
}

// ä¾¿åˆ©é–¢æ•°
function symbol(name) {
    return new SymbolBox(name)
}

// ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°
NIL = 0

// ãƒ†ã‚¹ãƒˆ
print("=== SymbolBox Test ===")
print("")

// åŸºæœ¬çš„ãªã‚·ãƒ³ãƒœãƒ«ä½œæˆ
print("1. Basic symbol creation:")
s1 = new SymbolBox("foo")
print("   new SymbolBox('foo') = " + s1.toString())
s2 = symbol("bar")
print("   symbol('bar') = " + s2.toString())

print("")
print("2. Symbol comparison:")
s3 = symbol("foo")
s4 = symbol("bar")
print("   symbol('foo') == symbol('foo'): " + s1.equals(s3))
print("   symbol('foo') == symbol('bar'): " + s1.equals(s4))

print("")
print("3. Symbol properties:")
print("   s1.name = " + s1.getName())
print("   s2.name = " + s2.getName())

print("")
print("âœ… SymbolBox test done!")