<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¨ Nyash Canvas Playground - Everything is Box</title>
    <style>
        body {
            font-family: 'Monaco', 'Consolas', monospace;
            margin: 20px;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            color: #ffffff;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            color: #fff;
            text-align: center;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .subtitle {
            text-align: center;
            color: #b3d9ff;
            margin-bottom: 30px;
            font-size: 18px;
        }
        
        .demo-section {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .demo-title {
            color: #ffeb3b;
            font-size: 24px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .demo-description {
            color: #e0e0e0;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .canvas-container {
            display: flex;
            gap: 20px;
            align-items: flex-start;
            flex-wrap: wrap;
        }
        
        .canvas-wrapper {
            background: white;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }
        
        canvas {
            border: 2px solid #4ecdc4;
            border-radius: 8px;
            display: block;
        }
        
        .canvas-info {
            flex: 1;
            min-width: 300px;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
        }
        
        .feature-list li {
            background: rgba(76, 175, 80, 0.2);
            margin: 8px 0;
            padding: 10px 15px;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
        }
        
        .controls {
            margin-top: 20px;
        }
        
        .btn {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: transform 0.2s;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }
        
        .stats {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-family: monospace;
        }
        
        .philosophy {
            text-align: center;
            font-size: 20px;
            color: #ffeb3b;
            margin: 40px 0;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ Nyash Canvas Playground</h1>
        <div class="subtitle">Everything is Box - WebCanvasBox in Action</div>
        
        <div class="philosophy">
            "ã™ã¹ã¦ã¯ Box ã§ã‚ã‚‹" - Canvas ã‚‚ç²’å­ã‚‚è¤‡ç´ æ•°ã‚‚ã€ã¿ã‚“ãª Boxï¼
        </div>
        
        <!-- ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«çˆ†ç™ºã‚·ã‚¹ãƒ†ãƒ  -->
        <div class="demo-section">
            <div class="demo-title">
                ğŸŒŸ Particle Explosion System
            </div>
            <div class="demo-description">
                å„ç²’å­ãŒç‹¬ç«‹ã—ãŸ ParticleBox ã¨ã—ã¦å‹•ä½œã™ã‚‹ç¾ã—ã„çˆ†ç™ºã‚¨ãƒ•ã‚§ã‚¯ãƒˆã€‚ç‰©ç†æ¼”ç®—ã€é‡åŠ›ã€ç©ºæ°—æŠµæŠ—ã€å¯¿å‘½ã‚·ã‚¹ãƒ†ãƒ ã‚’å®Œå‚™ã€‚è™¹è‰²ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ãŒèˆã„è¸Šã‚‹ Everything is Box ã®ç©¶æ¥µå®Ÿè¨¼ï¼
            </div>
            
            <div class="canvas-container">
                <div class="canvas-wrapper">
                    <canvas id="particle-canvas" width="800" height="600"></canvas>
                </div>
                
                <div class="canvas-info">
                    <ul class="feature-list">
                        <li>ğŸ† å„ç²’å­ãŒç‹¬ç«‹ã—ãŸ ParticleBox</li>
                        <li>ğŸŒˆ è™¹è‰²ãƒ©ãƒ³ãƒ€ãƒ ã‚«ãƒ©ãƒ¼ã‚·ã‚¹ãƒ†ãƒ </li>
                        <li>âš¡ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç‰©ç†æ¼”ç®—</li>
                        <li>ğŸ’¨ é‡åŠ›ãƒ»ç©ºæ°—æŠµæŠ—ãƒ»å¯¿å‘½ç®¡ç†</li>
                        <li>âœ¨ ç¾ã—ã„ãƒˆãƒ¬ã‚¤ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ</li>
                        <li>ğŸ® è‡ªå‹•é€£ç¶šçˆ†ç™ºã‚·ã‚¹ãƒ†ãƒ </li>
                    </ul>
                    
                    <div class="controls">
                        <button class="btn" onclick="createBigExplosion()">ğŸ’¥ å¤§çˆ†ç™º!</button>
                        <button class="btn" onclick="createRandomExplosions()">ğŸ† é€£ç¶šçˆ†ç™º</button>
                        <button class="btn" onclick="clearParticles()">ğŸ§¹ ã‚¯ãƒªã‚¢</button>
                    </div>
                    
                    <div class="stats" id="particle-stats">
                        ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç²’å­: 0<br>
                        ç·çˆ†ç™ºå›æ•°: 0<br>
                        Everything is Box!
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ãƒ•ãƒ©ã‚¯ã‚¿ãƒ« -->
        <div class="demo-section">
            <div class="demo-title">
                ğŸ“Š Mandelbrot Fractal Generator
            </div>
            <div class="demo-description">
                ComplexBox ã«ã‚ˆã‚‹è¤‡ç´ æ•°è¨ˆç®—ã§ãƒãƒ³ãƒ‡ãƒ«ãƒ–ãƒ­é›†åˆã‚’æç”»ã€‚MathBox ã¨ã®å®Œç’§ãªçµ±åˆã«ã‚ˆã‚Šã€æ•°å­¦çš„ç¾ã—ã•ã‚’WebCanvasä¸Šã«å®Ÿç¾ã€‚Everything is Box ã®æ•°å­¦çš„è¡¨ç¾ï¼
            </div>
            
            <div class="canvas-container">
                <div class="canvas-wrapper">
                    <canvas id="fractal-canvas" width="400" height="400"></canvas>
                </div>
                
                <div class="canvas-info">
                    <ul class="feature-list">
                        <li>ğŸ”¢ ComplexBox ã«ã‚ˆã‚‹è¤‡ç´ æ•°æ¼”ç®—</li>
                        <li>ğŸŒ€ ãƒãƒ³ãƒ‡ãƒ«ãƒ–ãƒ­é›†åˆã®å®Œå…¨è¨ˆç®—</li>
                        <li>ğŸ¨ ç¾ã—ã„ã‚«ãƒ©ãƒ¼ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³</li>
                        <li>ğŸ” ã‚ºãƒ¼ãƒ ãƒ»ä¸­å¿ƒç§»å‹•æ©Ÿèƒ½</li>
                        <li>âš¡ é«˜é€Ÿåå¾©è¨ˆç®—ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </li>
                        <li>ğŸ“ MathBox ã¨ã®çµ±åˆ</li>
                    </ul>
                    
                    <div class="controls">
                        <button class="btn" onclick="renderBasicFractal()">ğŸŒ€ åŸºæœ¬ãƒ•ãƒ©ã‚¯ã‚¿ãƒ«</button>
                        <button class="btn" onclick="renderZoomedFractal()">ğŸ” ã‚ºãƒ¼ãƒ ç‰ˆ</button>
                        <button class="btn" onclick="renderColorfulFractal()">ğŸŒˆ ã‚«ãƒ©ãƒ•ãƒ«ç‰ˆ</button>
                    </div>
                    
                    <div class="stats" id="fractal-stats">
                        ã‚ºãƒ¼ãƒ : 1.0x<br>
                        åå¾©è¨ˆç®—: 50å›<br>
                        Complex Mathematics!
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Game of Life -->
        <div class="demo-section">
            <div class="demo-title">
                ğŸ§¬ Conway's Game of Life
            </div>
            <div class="demo-description">
                å„ã‚»ãƒ«ãŒç‹¬ç«‹ã—ãŸ CellBox ã¨ã—ã¦ç”Ÿå‘½æ´»å‹•ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã€‚ã‚»ãƒ«ãƒ©ãƒ¼ã‚ªãƒ¼ãƒˆãƒãƒˆãƒ³ã®ç¾ã—ã„é€²åŒ–éç¨‹ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯è¦–åŒ–ã€‚ç”Ÿå‘½ã®ç¥ç§˜ã‚’ Everything is Box ã§è¡¨ç¾ï¼
            </div>
            
            <div class="canvas-container">
                <div class="canvas-wrapper">
                    <canvas id="life-canvas" width="400" height="300"></canvas>
                </div>
                
                <div class="canvas-info">
                    <ul class="feature-list">
                        <li>ğŸ”¬ å„ã‚»ãƒ«ãŒç‹¬ç«‹ã—ãŸ CellBox</li>
                        <li>ğŸŒ± Conway ã® 4ã¤ã®ç”Ÿå‘½ãƒ«ãƒ¼ãƒ«</li>
                        <li>ğŸ® ã‚°ãƒ©ã‚¤ãƒ€ãƒ¼ãƒ»ç‚¹æ»…ç­‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³</li>
                        <li>ğŸ“ˆ ä¸–ä»£è¿½è·¡ãƒ»çµ±è¨ˆè¡¨ç¤º</li>
                        <li>ğŸ² ãƒ©ãƒ³ãƒ€ãƒ åˆæœŸåŒ–æ©Ÿèƒ½</li>
                        <li>â±ï¸ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€²åŒ–</li>
                    </ul>
                    
                    <div class="controls">
                        <button class="btn" onclick="startLife('random')">ğŸ² ãƒ©ãƒ³ãƒ€ãƒ é–‹å§‹</button>
                        <button class="btn" onclick="startLife('glider')">âœˆï¸ ã‚°ãƒ©ã‚¤ãƒ€ãƒ¼</button>
                        <button class="btn" onclick="startLife('blinker')">ğŸ’« ç‚¹æ»…ãƒ‘ã‚¿ãƒ¼ãƒ³</button>
                        <button class="btn" onclick="pauseLife()">â¸ï¸ ä¸€æ™‚åœæ­¢</button>
                    </div>
                    
                    <div class="stats" id="life-stats">
                        ä¸–ä»£: 0<br>
                        ç”Ÿå­˜ã‚»ãƒ«: 0<br>
                        Cellular Automaton!
                    </div>
                </div>
            </div>
        </div>
        
        <div class="philosophy">
            ğŸ± Everything is Box, Everything is Beautiful! ğŸ¨âœ¨
        </div>
    </div>

    <script type="module">
        // WebCanvasBox ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        
        class WebCanvasBox {
            constructor(canvasId, width, height) {
                this.canvas = document.getElementById(canvasId);
                this.ctx = this.canvas.getContext('2d');
                this.width = width;
                this.height = height;
            }
            
            setFillStyle(color) {
                this.ctx.fillStyle = color;
            }
            
            setStrokeStyle(color) {
                this.ctx.strokeStyle = color;
            }
            
            setLineWidth(width) {
                this.ctx.lineWidth = width;
            }
            
            fillRect(x, y, width, height) {
                this.ctx.fillRect(x, y, width, height);
            }
            
            strokeRect(x, y, width, height) {
                this.ctx.strokeRect(x, y, width, height);
            }
            
            beginPath() {
                this.ctx.beginPath();
            }
            
            arc(x, y, radius, startAngle, endAngle) {
                this.ctx.arc(x, y, radius, startAngle, endAngle);
            }
            
            fill() {
                this.ctx.fill();
            }
            
            stroke() {
                this.ctx.stroke();
            }
            
            fillText(text, x, y) {
                this.ctx.fillText(text, x, y);
            }
            
            clear() {
                this.ctx.clearRect(0, 0, this.width, this.height);
            }
        }
        
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ 
        class ParticleBox {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.vx = (Math.random() - 0.5) * 10;
                this.vy = Math.random() * -8 - 2;
                this.size = Math.random() * 4 + 2;
                this.color = ['red', 'orange', 'yellow', 'lime', 'cyan', 'magenta'][Math.floor(Math.random() * 6)];
                this.life = 100;
                this.maxLife = 100;
                this.gravity = 0.1;
            }
            
            update() {
                this.vy += this.gravity;
                this.x += this.vx;
                this.y += this.vy;
                this.vx *= 0.99;
                this.vy *= 0.98;
                this.life--;
                this.size *= 0.995;
                return this.life > 0;
            }
            
            draw(canvas) {
                if (this.life > 0) {
                    canvas.setFillStyle(this.color);
                    canvas.beginPath();
                    canvas.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    canvas.fill();
                    
                    if (this.life > this.maxLife * 0.8) {
                        canvas.setFillStyle('white');
                        canvas.beginPath();
                        canvas.arc(this.x, this.y, this.size * 0.3, 0, Math.PI * 2);
                        canvas.fill();
                    }
                }
            }
        }
        
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†
        let particles = [];
        let explosionCount = 0;
        let animationId;
        
        const particleCanvas = new WebCanvasBox('particle-canvas', 800, 600);
        
        function createExplosion(x, y, count = 30) {
            for (let i = 0; i < count; i++) {
                particles.push(new ParticleBox(x, y));
            }
            explosionCount++;
        }
        
        function animateParticles() {
            // èƒŒæ™¯ï¼ˆãƒˆãƒ¬ã‚¤ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆï¼‰
            particleCanvas.setFillStyle('rgba(0,0,0,0.1)');
            particleCanvas.fillRect(0, 0, 800, 600);
            
            // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«æ›´æ–°ãƒ»æç”»
            particles = particles.filter(particle => {
                if (particle.update()) {
                    particle.draw(particleCanvas);
                    return true;
                }
                return false;
            });
            
            // çµ±è¨ˆæ›´æ–°
            document.getElementById('particle-stats').innerHTML = `
                ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ç²’å­: ${particles.length}<br>
                ç·çˆ†ç™ºå›æ•°: ${explosionCount}<br>
                Everything is Box!
            `;
            
            animationId = requestAnimationFrame(animateParticles);
        }
        
        // è‡ªå‹•çˆ†ç™ºé–‹å§‹
        particleCanvas.setFillStyle('black');
        particleCanvas.fillRect(0, 0, 800, 600);
        animateParticles();
        
        // å®šæœŸçš„ãªè‡ªå‹•çˆ†ç™º
        setInterval(() => {
            if (Math.random() < 0.3) {
                const x = Math.random() * 700 + 50;
                const y = Math.random() * 500 + 50;
                createExplosion(x, y, 20);
            }
        }, 2000);
        
        // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«åˆ¶å¾¡é–¢æ•°
        window.createBigExplosion = () => {
            createExplosion(400, 300, 60);
        };
        
        window.createRandomExplosions = () => {
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const x = Math.random() * 600 + 100;
                    const y = Math.random() * 400 + 100;
                    createExplosion(x, y, 25);
                }, i * 300);
            }
        };
        
        window.clearParticles = () => {
            particles = [];
        };
        
        // ãƒ•ãƒ©ã‚¯ã‚¿ãƒ«æç”»
        const fractalCanvas = new WebCanvasBox('fractal-canvas', 400, 400);
        
        function mandelbrot(c_real, c_imag, max_iter = 50) {
            let z_real = 0, z_imag = 0;
            let iter = 0;
            
            while (iter < max_iter) {
                const z_real_temp = z_real * z_real - z_imag * z_imag + c_real;
                z_imag = 2 * z_real * z_imag + c_imag;
                z_real = z_real_temp;
                
                if (z_real * z_real + z_imag * z_imag > 4) {
                    return iter;
                }
                iter++;
            }
            return max_iter;
        }
        
        function getColor(iterations, maxIter) {
            if (iterations === maxIter) return 'black';
            const ratio = iterations / maxIter;
            if (ratio < 0.25) return 'blue';
            if (ratio < 0.5) return 'cyan';
            if (ratio < 0.75) return 'yellow';
            return 'red';
        }
        
        function renderFractal(zoom = 1, centerX = -0.5, centerY = 0) {
            fractalCanvas.clear();
            
            for (let y = 0; y < 400; y += 2) {
                for (let x = 0; x < 400; x += 2) {
                    const real = (x - 200) / (200 / 2) / zoom + centerX;
                    const imag = (y - 200) / (200 / 2) / zoom + centerY;
                    
                    const iterations = mandelbrot(real, imag);
                    const color = getColor(iterations, 50);
                    
                    fractalCanvas.setFillStyle(color);
                    fractalCanvas.fillRect(x, y, 2, 2);
                }
            }
            
            fractalCanvas.setFillStyle('white');
            fractalCanvas.fillText(`Zoom: ${zoom}x`, 10, 20);
            fractalCanvas.fillText('Mandelbrot Set', 10, 40);
        }
        
        window.renderBasicFractal = () => {
            renderFractal(1, -0.5, 0);
            document.getElementById('fractal-stats').innerHTML = `
                ã‚ºãƒ¼ãƒ : 1.0x<br>
                ä¸­å¿ƒ: (-0.5, 0.0)<br>
                Complex Mathematics!
            `;
        };
        
        window.renderZoomedFractal = () => {
            renderFractal(3, -0.8, 0.156);
            document.getElementById('fractal-stats').innerHTML = `
                ã‚ºãƒ¼ãƒ : 3.0x<br>
                ä¸­å¿ƒ: (-0.8, 0.156)<br>
                Zoomed Beauty!
            `;
        };
        
        window.renderColorfulFractal = () => {
            renderFractal(2, -0.235125, 0.827215);
            document.getElementById('fractal-stats').innerHTML = `
                ã‚ºãƒ¼ãƒ : 2.0x<br>
                ä¸­å¿ƒ: (-0.235125, 0.827215)<br>
                Colorful Patterns!
            `;
        };
        
        // åˆæœŸãƒ•ãƒ©ã‚¯ã‚¿ãƒ«æç”»
        renderBasicFractal();
        
        // Game of Life
        const lifeCanvas = new WebCanvasBox('life-canvas', 400, 300);
        let lifeGrid = [];
        let lifeRunning = false;
        let lifeGeneration = 0;
        const GRID_WIDTH = 40;
        const GRID_HEIGHT = 30;
        const CELL_SIZE = 10;
        
        function initLife() {
            lifeGrid = [];
            for (let y = 0; y < GRID_HEIGHT; y++) {
                lifeGrid[y] = [];
                for (let x = 0; x < GRID_WIDTH; x++) {
                    lifeGrid[y][x] = false;
                }
            }
            lifeGeneration = 0;
        }
        
        function setPattern(pattern) {
            initLife();
            
            if (pattern === 'random') {
                for (let y = 0; y < GRID_HEIGHT; y++) {
                    for (let x = 0; x < GRID_WIDTH; x++) {
                        lifeGrid[y][x] = Math.random() < 0.3;
                    }
                }
            } else if (pattern === 'glider') {
                const centerX = Math.floor(GRID_WIDTH / 2);
                const centerY = Math.floor(GRID_HEIGHT / 2);
                lifeGrid[centerY][centerX + 1] = true;
                lifeGrid[centerY + 1][centerX + 2] = true;
                lifeGrid[centerY + 2][centerX] = true;
                lifeGrid[centerY + 2][centerX + 1] = true;
                lifeGrid[centerY + 2][centerX + 2] = true;
            } else if (pattern === 'blinker') {
                const centerX = Math.floor(GRID_WIDTH / 2);
                const centerY = Math.floor(GRID_HEIGHT / 2);
                lifeGrid[centerY][centerX - 1] = true;
                lifeGrid[centerY][centerX] = true;
                lifeGrid[centerY][centerX + 1] = true;
            }
        }
        
        function countNeighbors(x, y) {
            let count = 0;
            for (let dy = -1; dy <= 1; dy++) {
                for (let dx = -1; dx <= 1; dx++) {
                    if (dx === 0 && dy === 0) continue;
                    const nx = x + dx;
                    const ny = y + dy;
                    if (nx >= 0 && nx < GRID_WIDTH && ny >= 0 && ny < GRID_HEIGHT) {
                        if (lifeGrid[ny][nx]) count++;
                    }
                }
            }
            return count;
        }
        
        function updateLife() {
            const newGrid = [];
            for (let y = 0; y < GRID_HEIGHT; y++) {
                newGrid[y] = [];
                for (let x = 0; x < GRID_WIDTH; x++) {
                    const neighbors = countNeighbors(x, y);
                    const alive = lifeGrid[y][x];
                    
                    if (alive) {
                        newGrid[y][x] = neighbors === 2 || neighbors === 3;
                    } else {
                        newGrid[y][x] = neighbors === 3;
                    }
                }
            }
            lifeGrid = newGrid;
            lifeGeneration++;
        }
        
        function drawLife() {
            lifeCanvas.setFillStyle('white');
            lifeCanvas.fillRect(0, 0, 400, 300);
            
            let aliveCount = 0;
            for (let y = 0; y < GRID_HEIGHT; y++) {
                for (let x = 0; x < GRID_WIDTH; x++) {
                    if (lifeGrid[y][x]) {
                        lifeCanvas.setFillStyle('lime');
                        aliveCount++;
                    } else {
                        lifeCanvas.setFillStyle('black');
                    }
                    lifeCanvas.fillRect(x * CELL_SIZE, y * CELL_SIZE, CELL_SIZE, CELL_SIZE);
                    
                    lifeCanvas.setStrokeStyle('gray');
                    lifeCanvas.strokeRect(x * CELL_SIZE, y * CELL_SIZE, CELL_SIZE, CELL_SIZE);
                }
            }
            
            lifeCanvas.setFillStyle('blue');
            lifeCanvas.fillText(`Generation: ${lifeGeneration}`, 10, 20);
            lifeCanvas.fillText(`Alive: ${aliveCount}`, 10, 40);
            
            document.getElementById('life-stats').innerHTML = `
                ä¸–ä»£: ${lifeGeneration}<br>
                ç”Ÿå­˜ã‚»ãƒ«: ${aliveCount}<br>
                Cellular Automaton!
            `;
        }
        
        function animateLife() {
            if (lifeRunning) {
                updateLife();
                drawLife();
                setTimeout(animateLife, 200);
            }
        }
        
        window.startLife = (pattern) => {
            setPattern(pattern);
            lifeRunning = true;
            animateLife();
        };
        
        window.pauseLife = () => {
            lifeRunning = false;
        };
        
        // åˆæœŸåŒ–
        initLife();
        drawLife();
    </script>
</body>
</html>