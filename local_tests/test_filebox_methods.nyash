// FileBox v2ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ ãƒ¡ã‚½ãƒƒãƒ‰ãƒ†ã‚¹ãƒˆ
print("=== FileBox Methods Test ===")

// FileBoxã‚’ä½œæˆ
print("\n1. Creating FileBox...")
local fileBox
fileBox = new FileBox()
print("âœ… FileBox created: " + fileBox.toString())

// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
print("\n2. Opening file for writing...")
local success
success = fileBox.open("test_output.txt", "w")
print("âœ… File opened: " + success.toString())

// ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãè¾¼ã‚€
print("\n3. Writing to file...")
local writeResult
writeResult = fileBox.write("Hello from Nyash FileBox v2!\n")
print("âœ… Written bytes: " + writeResult.toString())

// ã‚‚ã†ä¸€è¡Œæ›¸ãè¾¼ã‚€
writeResult = fileBox.write("Everything is Box! ğŸ‰\n")
print("âœ… Written more bytes: " + writeResult.toString())

// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‰ã˜ã‚‹
print("\n4. Closing file...")
local closeResult
closeResult = fileBox.close()
print("âœ… File closed: " + closeResult.toString())

// ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ãƒ¢ãƒ¼ãƒ‰ã§é–‹ã
print("\n5. Opening file for reading...")
success = fileBox.open("test_output.txt", "r")
print("âœ… File opened for reading: " + success.toString())

// ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’èª­ã‚€
print("\n6. Reading from file...")
local content
content = fileBox.read()
print("âœ… File content:")
print(content)

// æœ€å¾Œã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‰ã˜ã‚‹
print("\n7. Closing file again...")
closeResult = fileBox.close()
print("âœ… File closed: " + closeResult.toString())

print("\n=== Test completed successfully! ===")