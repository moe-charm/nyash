# ğŸ”¥ Phase 8.8: packé€æ˜åŒ–ã‚·ã‚¹ãƒ†ãƒ  åŸºæœ¬ãƒ†ã‚¹ãƒˆ
# ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯`pack`ã‚’ä¸€åˆ‡æ„è­˜ã›ãšã€`from BuiltinBox()`ã§è‡ªå‹•å‹•ä½œ

print("=== packé€æ˜åŒ–ã‚·ã‚¹ãƒ†ãƒ åŸºæœ¬ãƒ†ã‚¹ãƒˆé–‹å§‹ ===")

# ãƒ†ã‚¹ãƒˆA: ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©BoxåŸºæœ¬å‹•ä½œ (birthå„ªå…ˆ)
box Life {
    init { name, energy }
    
    birth(lifeName) {
        me.name = lifeName
        me.energy = 100
    }
    
    introduce() {
        return "ç§ã®åå‰ã¯ " + me.name + " ã§ã™ã€‚"
    }
}

local alice = new Life("Alice")
print("A. " + alice.introduce())

# ãƒ†ã‚¹ãƒˆB: é€æ˜åŒ–ã‚·ã‚¹ãƒ†ãƒ å‹•ä½œ - æœ€é‡è¦ãƒ†ã‚¹ãƒˆ
box SimpleString from StringBox {
    init { prefix }
    
    birth(content, prefixStr) {
        from StringBox(content)  # â† é€æ˜åŒ–ï¼å†…éƒ¨çš„ã«packå‘¼ã³å‡ºã—
        me.prefix = prefixStr
    }
    
    getMessage() {
        return me.prefix + "test message"
    }
}

local simple = new SimpleString("World", "<<< ")
print("B. " + simple.getMessage())

print("=== packé€æ˜åŒ–ã‚·ã‚¹ãƒ†ãƒ åŸºæœ¬ãƒ†ã‚¹ãƒˆå®Œäº† ===")